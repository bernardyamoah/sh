'use client'

import '@/styles/globals.css'
import { Inter } from 'next/font/google'
import Navbar from '/components/Navbar'
import Footer from '/components/Footer'
import Head from 'next/head'
import ThemeToggle from '@/components/ThemeToggle'
import { useEffect } from 'react'

import Script from 'next/script'



const inter = Inter({ subsets: ['latin'] })
export const metadata = {
  title: 'Slideshub',
  description: 'Generated by create next app',
  charset:"utf-8",
  type: 'website',
  url: 'https://slideshub.netlify.app',
  site_name: 'Slideshub',
  author: 'Slideshub',
  // twitter_username: '@slideshub',
  image: '/images/icon.png',
  favicon: '/images/favicon.png',
  og:{
    title: 'Slideshub',
    type: 'website',
    url: 'https://slideshub.netlify.app/',
    description: 'Generated by create next app',
    image: '/public/thumbnail.png',

  }

}

export default function RootLayout({ children }) {
  useEffect(() => {
    const loadExternalScripts = async () => {
      const scriptUrls = [
        '/utils/index.js',
        '/utils/main.js',
        '/utils/preline.js'
        // Add more script URLs as needed
      ];

      await Promise.all(
        scriptUrls.map(async (url) => {
          const script = document.createElement('script');
          script.src = url;
          script.async = true;
          script.onload = resolve;
          script.onerror = reject;
          document.body.appendChild(script);
          
        })
      );
    };
  
    loadExternalScripts();
  }, []);
  return (
<>
    <Head>
    <meta name="viewport" content="width=device-width, initial-scale=1"
         />
         <script
         dangerouslySetInnerHTML={{
           __html: `
             // On page load or when changing themes, best to add inline in 'head' to avoid FOUC
             if (
               localStorage.getItem('color-theme') === 'dark' ||
               (!('color-theme' in localStorage) &&
                 window.matchMedia('(prefers-color-scheme: dark)').matches)
             ) {
               document.documentElement.classList.add('dark');
             } else {
               document.documentElement.classList.remove('dark');
             }
           `,
         }}
       />
       

  
         
   
    </Head>
  


      <body className={inter.className}>
      <Navbar/>
      {children}
  
      <ThemeToggle/>
      <Footer/>
    
      </body>
      </>
  )
}
